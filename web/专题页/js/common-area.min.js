var goods={buildElement:function(b,c,e){var d=document.createElement(b);if(typeof(c)==="string"){e=c;c=null}if(c!==undefined){for(var a in c){d.setAttribute(a,c[a])}}if(e!==undefined){d.innerHTML=e}return d},setnav:function(b){$("."+b.navtopbox).on("click","."+b.navtopitem,function(){var c=$(this).index();$("."+b.goodsitem)[c].scrollIntoView();$(this).addClass("active").siblings("[class~='active']").removeClass("active").children().children("."+b.coordinate).addClass("hide");$(this).children().children("."+b.coordinate).removeClass("hide")});function a(){var d=$(this).index();$($("."+b.navtopitem)[d]).addClass("active").siblings("[class~='active']").removeClass("active").children().children("."+b.coordinate).addClass("hide");$($("."+b.navtopitem)[d]).children().children("."+b.coordinate).removeClass("hide");var c=parseFloat($("."+b.navtopitem).css("width"));$("."+b.navtopcontainer)[0].scrollLeft=c*d;$("."+b.goodsitem)[d].scrollIntoView()}if($("#area").length>0){$("#area").on("click",".area",a)}else{$("."+b.topclassify).on("click",a)}},setgoods:function(e){var y=e.goodsdata.itemstitle;var d=e.goodsdata.itemsareaid;var w=e.goodsdata.itemsdetail;var g=document.createDocumentFragment();var r=document.createDocumentFragment();var z=document.createDocumentFragment();for(var q=0;q<y.length;q++){var v=this.buildElement("div",{"class":e.navtopitem});var c=this.buildElement("div",{"class":e.navcoordinatebox},"<i class='"+e.coordinate+" hide'></i>"+y[q]);v.appendChild(c);g.appendChild(v);var s=this.buildElement("area",{"class":"area",href:"#"+d[q],shape:e.areashape});r.appendChild(s);var m=this.buildElement("div",{id:d[q],"class":e.goodsitem});var h=this.buildElement("div",{"class":e.goodsitemheader},"<images src='images/"+e.goodspicturefile+"/"+e.goodsheaderpicture+"-0"+(q+1)+".png'>");m.appendChild(h);var a=this.buildElement("div",{"class":e.goodsitembox+" after"});m.appendChild(a);var t=e.goodsdata.itemsdetail[q].goodslist;for(var p=0;p<t.length;p++){var u=this.buildElement("div",{"class":"items-goods"});var b=this.buildElement("a",{href:t[p].url});var f=this.buildElement("div",{"class":"items-goods-images"});var o=this.buildElement("img",{"class":"lazy","data-original":t[p].pictureurl});var k=this.buildElement("div",{"class":"items-info"},"<div class='items-goods-name'>"+t[p].name+"</div>\n<div class='items-goods-price'>\n   <small>￥</small>"+t[p].price+"\n</div>\n<div class='"+e.goodsbtn+"'>点击查看</div>");$(o).lazyload();f.appendChild(o);b.appendChild(f);b.appendChild(k);u.appendChild(b);a.appendChild(u)}z.appendChild(m)}$("."+e.navtopbox).css("width",e.navtopitemwidth*y.length+"rem");$("."+e.navtopbox).append(g);if($("#area").length>0){$("#area").append(r);var x=getComputedStyle($(".top-banner")[0]);var n=parseFloat(x.width);var l=parseFloat(x.height);setarea(n,l)}$(".container").append(z)},gotoTop:function(a){$("#gotoTop").css("background-color","rgba("+a.gotopbtn+")");$("#gotoTop").click(function(){$("html,body").animate({scrollTop:0},500)}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});a.minheight?a.minheight=a.minheight:a.minheight=500;$(window).scroll(function(){var b=$(window).scrollTop();if(b>a.minheight){$("#gotoTop").fadeIn(100)}else{$("#gotoTop").fadeOut(200)}})},init:function(a){$.ajax({type:"GET",url:"data/"+a.jsonname+".json",dataType:"json",success:function(b){a.goodsdata=b;this.gotoTop(a);this.setnav(a);this.setgoods(a)}.bind(this)})}};