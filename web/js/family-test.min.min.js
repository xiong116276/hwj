$(function(){$("#area").on("click",".area",function(){var c=$(this).index();$($(".family-top-items")[c]).addClass("active").siblings("[class~='active']").removeClass("active").children().children(".family-top-coordinate").addClass("hide");$($(".family-top-items")[c]).children().children(".family-top-coordinate").removeClass("hide");var d=parseFloat($(".family-top-items").css("width"));$(".male-top")[0].scrollLeft=d*c});$(".family-top-box").on("click",".family-top-items",function(){var b=$(this).index();$(".family-items-content")[b].scrollIntoView()});$(".family-top-box").on("click",".family-top-items",function(){$(this).addClass("active").siblings("[class~='active']").removeClass("active").children().children(".family-top-coordinate").addClass("hide");$(this).children().children(".family-top-coordinate").removeClass("hide")})});var setarea=function(){var v=getComputedStyle($(".top-banner")[0]);var E=parseFloat(v.width);var H=parseFloat(v.height);var x=55/750*E,y=122/750*E,z=172/750*E,A=200/750*E,B=240/750*E,C=318/750*E,D=441/750*E,F=515/750*E,G=557/750*E,N=586/750*E,P=633/750*E,w=703/750*E;var I=168/655*H,J=281/655*H,K=302/655*H,L=413/655*H,M=433/655*H,O=545/655*H;$($(".area")[0]).attr("coords",x+","+I+","+z+","+J);$($(".area")[1]).attr("coords",A+","+I+","+C+","+J);$($(".area")[2]).attr("coords",D+","+I+","+G+","+J);$($(".area")[3]).attr("coords",N+","+I+","+w+","+J);$($(".area")[4]).attr("coords",y+","+K+","+B+","+L);$($(".area")[5]).attr("coords",F+","+K+","+P+","+L);$($(".area")[6]).attr("coords",x+","+M+","+z+","+O);$($(".area")[7]).attr("coords",A+","+M+","+C+","+O);$($(".area")[8]).attr("coords",D+","+M+","+G+","+O);$($(".area")[9]).attr("coords",N+","+M+","+w+","+O)};var setgoods=function(P){var j=P[0].itemstitle;var L=P[0].itemsareaid;var x=P[0].itemsdetail;var J=document.createDocumentFragment();var C=document.createDocumentFragment();var i=document.createDocumentFragment();for(var D=0;D<j.length;D++){var y=document.createElement("div");y.setAttribute("class",P[1]);var M=document.createElement("div");M.setAttribute("class",P[2]);M.innerHTML="<i class='"+P[3]+" hide'></i>"+j[D];y.appendChild(M);J.appendChild(y);var B=document.createElement("area");B.setAttribute("class","area");B.setAttribute("shape",P[4]);B.setAttribute("href","#"+L[D]);C.appendChild(B);var G=document.createElement("div");G.setAttribute("id",L[D]);G.setAttribute("class",P[5]);var I=document.createElement("div");I.setAttribute("class",P[6]);I.innerHTML="<img src='images/family-standing/family-standing-items-0"+(D+1)+".png'>";G.appendChild(I);var O=document.createElement("div");O.setAttribute("class",P[7]+" after");G.appendChild(O);var A=P[0].itemsdetail[D].goodslist;for(var E=0;E<A.length;E++){var z=document.createElement("div");z.setAttribute("class","items-goods");var N=document.createElement("a");var K=document.createElement("div");K.setAttribute("class","items-goods-img");var F=document.createElement("img");var H=document.createElement("div");H.setAttribute("class","items-info");N.setAttribute("href",A[E].url);F.setAttribute("class","lazy");F.setAttribute("data-original",A[E].pictureurl);$(F).lazyload();H.innerHTML="<div class='items-goods-name'>"+A[E].name+"</div>\n<div class='items-goods-price'>\n   <small>￥</small>"+A[E].price+"\n</div>\n<div class='"+P[8]+"'>点击查看</div>";K.appendChild(F);N.appendChild(K);N.appendChild(H);z.appendChild(N);O.appendChild(z)}i.appendChild(G)}$(P[9]).css("width",7*j.length+"rem");$(P[9]).append(J);$("#area").append(C);setarea();$(".container").append(i)};window.onload=function(){$.ajax({type:"GET",url:"data/family-test.json",dataType:"json",success:function(c){var d=[c,"family-top-items","male-top-content","family-top-coordinate","rect","family-items-content","adult-items-header1","female-items-box","family-items-btn",".family-top-box"];setgoods(d)}})};function gotoTop(b){$("#gotoTop").click(function(){$("html,body").animate({scrollTop:0},500)}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});b?b=b:b=500;$(window).scroll(function(){var a=$(window).scrollTop();if(a>b){$("#gotoTop").fadeIn(100)}else{$("#gotoTop").fadeOut(200)}})}gotoTop();