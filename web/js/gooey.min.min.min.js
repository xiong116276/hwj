(function(b){b.gooeymenu=function(h,a){var i=b(h);i.addClass("navimenu");var k=this,j=k.options=b.extend({},b.gooeymenu.defaults,a);k.els={item:i.find(".gooey-menu-item"),checkbox:i.find(".menu-open"),button:i.find(".open-button")};k.methods={setup:function(){var e={small:1.4,medium:1.8,large:2.1},c={small:1.3,medium:1.6,large:2.1},d;for(d in e){j.margin===d?j.margin=e[d]:null}for(var f in c){j.bounceLength===f?j.bounceLength=c[f]:null}k.methods.responsiveStyles();k.els.item.hover(function(){j.currentBg=k.els.item.css("background-color");b(this).css("background-color",j.hover)},function(){b(this).css("background-color",j.currentBg)});!0===j.bounce&&k.methods.bounce()},setEvents:function(){["open","close"].forEach(function(c,d){i.on(c,function(){j[c]&&j[c].apply(this,arguments)})})},bounce:function(){if(!0===j.bounce){var c=k.els.item.css("transition-timing-function");k.els.checkbox.on("change",function(){b(this).is(":checked")?k.els.item.css({"transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+j.bounceLength+")","-o-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+j.bounceLength+")","-moz-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+j.bounceLength+")","-webkit-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+j.bounceLength+")","-ms-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+j.bounceLength+")"}):k.els.item.css({"transition-timing-function":c,"-moz-transition-timing-function":c,"-o-transition-timing-function":c,"-webkit-transition-timing-function":c})})}},circle:function(){i.trigger("open");var n,q,l,p,c,r,d,m=k.els.item.length,t=j.transitionStep,f=Math.PI,g=360/m,e=g=360/m;q=j.circle.radius;k.els.item.each(function(){k.els.checkbox.is(":checked")?(n=f*e/180,l=Math.abs(Math.cos(n)),p=q*l,c=Math.sqrt(q*q-p*p),r=k.methods.periodCalc(e).x,d=k.methods.periodCalc(e).y,b(this).css({transform:"translate3d("+r+p+"px,"+d+c+"px,0)","-o-transform":"translate3d("+r+p+"px,"+d+c+"px,0)","-webkit-transform":"translate3d("+r+p+"px,"+d+c+"px,0)","-moz-transform":"translate3d("+r+p+"px,"+d+c+"px,0)","-ms-transform":"translate3d("+r+p+"px,"+d+c+"px,0)","transition-duration":t+"ms","-o-transition-duration":t+"ms","-webkit-transition-duration":t+"ms","-moz-transition-duration":t+"ms"}),e+=g,t+=j.transitionStep):(k.els.item.css({transform:"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-o-transform":"translate3d(0, 0, 0)"}),e=360/m,t=j.transitionStep,i.trigger("close"))})},periodCalc:function(c){return{x:90>c||270<c?"":"-",y:180<c?"":"-"}},linear:function(e){i.trigger("open");var c="horizontal"===j.style?j.horizontal.menuItemPosition:j.vertical.menuItemPosition,d=e[c].init,f=j.transitionStep;k.els.item.each(function(){k.els.checkbox.is(":checked")?"horizontal"===j.style?(b(this).css({transform:"translate3d("+d+"px, 0, 0)","-ms-transform":"translate3d("+d+"px, 0, 0)","-o-transform":"translate3d("+d+"px, 0, 0)","-moz-transform":"translate3d("+d+"px, 0, 0)","-webkit-transform":"translate3d("+d+"px, 0, 0)","transition-duration":f+"ms","-o-transition-duration":f+"ms","-webkit-transition-duration":f+"ms","-moz-transition-duration":f+"ms"}),d+=e[c].init,f+=j.transitionStep):"vertical"===j.style&&(b(this).css({"transition-duration":f+"ms","-moz-transition-duration":f+"ms","-o-transition-duration":f+"ms","-webkit-transition-duration":f+"ms"}),"down"===j.vertical.direction?b(this).css({transform:"translate3d(0, "+d+"px, 0)","-moz-transform":"translate3d(0, "+d+"px, 0)","-o-transform":"translate3d(0, "+d+"px, 0)","-webkit-transform":"translate3d(0, "+d+"px, 0)","-ms-transform":"translate3d(0, "+d+"px, 0)"}):"up"===j.vertical.direction&&b(this).css({transform:"translate3d(0,-"+d+"px, 0)","-moz-transform":"translate3d(0,-"+d+"px, 0)","-webkit-transform":"translate3d(0,-"+d+"px, 0)","-o-transform":"translate3d(0,-"+d+"px, 0)","-ms-transform":"translate3d(0,-"+d+"px, 0)"}),d+=e[c].init,f+=j.transitionStep):(k.els.item.css({transform:"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-o-transform":"translate3d(0, 0, 0)"}),d=e[c].init,f=j.transitionStep,i.trigger("close"))})},translate:function(){var c={glue:{init:j.size},spaced:{init:j.size*j.margin}};k.els.checkbox.on("change",function(){k._callbacks[j.style](c)})},createOn:function(f,g,c,d){g=document.createElementNS("http://www.w3.org/2000/svg",g);for(var e in c){c.hasOwnProperty(e)&&g.setAttribute(e,c[e])}d&&g.appendChild(document.createTextNode(d));return f.appendChild(g)},responsiveStyles:function(){var c=0<window.innerWidth?window.innerWidth:screen.width;320<=c&&480>=c?(j.size/=1.4,j.circle.radius/=1.2):480<c&&768>=c?j.size/=1.2:780<c&&1024>=c&&(j.circle.radius/=1.2,j.size/=1.1);k.els.item.css({width:j.size+"px",height:j.size+"px",color:j.contentColor,"background-color":j.bgColor,"line-height":j.size+"px"});k.els.button.css({width:j.size+"px",height:j.size+"px","background-color":j.bgColor,"line-height":j.size+"px"});i.find(".burger").css({"font-size":".8em",width:j.size/2+"px",height:"3px",left:j.size/4+"px"})}};k._callbacks={vertical:k.methods.linear,horizontal:k.methods.linear,circle:k.methods.circle};k.init=function(){var c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=b(".navimenu").index(i);c.setAttribute("id","gooeySVG"+e);c.setAttribute("class","gooeySVG");i.append(c);c=document.getElementById("gooeySVG"+e);k.methods.createOn(c,"defs",{id:"defs"+e});c=document.getElementById("defs"+e);k.methods.createOn(c,"filter",{id:"goo-shadow"+e,overflow:"hidden"});var d=document.getElementById("goo-shadow"+e);k.methods.createOn(d,"feGaussianBlur",{"in":"SourceGraphic",result:"blur",stdDeviation:"10"});k.methods.createOn(d,"feColorMatrix",{"in":"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",result:"goo"});k.methods.createOn(d,"feGaussianBlur",{"in":"goo",stdDeviation:"2",result:"shadow"});k.methods.createOn(d,"feColorMatrix",{"in":"shadow",mode:"matrix",values:"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 0 0",result:"shadow"});k.methods.createOn(d,"feOffset",{"in":"shadow",dx:"1",dy:"1",result:"shadow"});k.methods.createOn(d,"feComposite",{in2:"shadow","in":"goo",result:"goo"});k.methods.createOn(d,"feComposite",{in2:"goo","in":"SourceGraphic",result:"mix"});k.methods.createOn(c,"filter",{id:"goo"+e});c=document.getElementById("goo"+e);k.methods.createOn(c,"feGaussianBlur",{"in":"SourceGraphic",result:"blur",stdDeviation:"10"});k.methods.createOn(c,"feColorMatrix",{"in":"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"});k.methods.createOn(c,"feComposite",{in2:"goo","in":"SourceGraphic",result:"mix"});i.css({"-webkit-filter":"url('#goo-shadow"+e+"')",filter:"url('#goo-shadow"+e+"')","-ms-filter":"url('#goo-shadow"+e+"')","-o-filter":"url('#goo-shadow"+e+"')"});k.methods.setEvents();k.methods.setup();k.methods.translate.apply(this,arguments)};k.init()};b.gooeymenu.defaults={style:"horizontal",size:70,margin:"medium",bgColor:"steelblue",contentColor:"white",transitionStep:100,bounce:!1,bounceLength:"medium",hover:"white",circle:{radius:80},horizontal:{menuItemPosition:"glue"},vertical:{menuItemPosition:"spaced",direction:"up"},open:function(){},close:function(){}};b.fn.gooeymenu=function(a){void 0===a&&(a={});if(a&&"object"===typeof a){return this.each(function(){new b.gooeymenu(this,a)})}}})(jQuery);