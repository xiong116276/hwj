(function(a){a.gooeymenu=function(f,g){var e=a(f);e.addClass("navimenu");var c=this,d=c.options=a.extend({},a.gooeymenu.defaults,g);c.els={item:e.find(".gooey-menu-item"),checkbox:e.find(".menu-open"),button:e.find(".open-button")};c.methods={setup:function(){var i={small:1.4,medium:1.8,large:2.1},b={small:1.3,medium:1.6,large:2.1},j;for(j in i){d.margin===j?d.margin=i[j]:null}for(var h in b){d.bounceLength===h?d.bounceLength=b[h]:null}c.methods.responsiveStyles();c.els.item.hover(function(){d.currentBg=c.els.item.css("background-color");a(this).css("background-color",d.hover)},function(){a(this).css("background-color",d.currentBg)});!0===d.bounce&&c.methods.bounce()},setEvents:function(){["open","close"].forEach(function(i,h){e.on(i,function(){d[i]&&d[i].apply(this,arguments)})})},bounce:function(){if(!0===d.bounce){var b=c.els.item.css("transition-timing-function");c.els.checkbox.on("change",function(){a(this).is(":checked")?c.els.item.css({"transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+d.bounceLength+")","-o-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+d.bounceLength+")","-moz-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+d.bounceLength+")","-webkit-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+d.bounceLength+")","-ms-transition-timing-function":"cubic-bezier(0.8, 0.84, 0.44,  "+d.bounceLength+")"}):c.els.item.css({"transition-timing-function":b,"-moz-transition-timing-function":b,"-o-transition-timing-function":b,"-webkit-transition-timing-function":b})})}},circle:function(){e.trigger("open");var x,v,y,w,o,u,k,b=c.els.item.length,s=d.transitionStep,i=Math.PI,z=360/b,j=z=360/b;v=d.circle.radius;c.els.item.each(function(){c.els.checkbox.is(":checked")?(x=i*j/180,y=Math.abs(Math.cos(x)),w=v*y,o=Math.sqrt(v*v-w*w),u=c.methods.periodCalc(j).x,k=c.methods.periodCalc(j).y,a(this).css({transform:"translate3d("+u+w+"px,"+k+o+"px,0)","-o-transform":"translate3d("+u+w+"px,"+k+o+"px,0)","-webkit-transform":"translate3d("+u+w+"px,"+k+o+"px,0)","-moz-transform":"translate3d("+u+w+"px,"+k+o+"px,0)","-ms-transform":"translate3d("+u+w+"px,"+k+o+"px,0)","transition-duration":s+"ms","-o-transition-duration":s+"ms","-webkit-transition-duration":s+"ms","-moz-transition-duration":s+"ms"}),j+=z,s+=d.transitionStep):(c.els.item.css({transform:"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-o-transform":"translate3d(0, 0, 0)"}),j=360/b,s=d.transitionStep,e.trigger("close"))})},periodCalc:function(b){return{x:90>b||270<b?"":"-",y:180<b?"":"-"}},linear:function(i){e.trigger("open");var b="horizontal"===d.style?d.horizontal.menuItemPosition:d.vertical.menuItemPosition,j=i[b].init,h=d.transitionStep;c.els.item.each(function(){c.els.checkbox.is(":checked")?"horizontal"===d.style?(a(this).css({transform:"translate3d("+j+"px, 0, 0)","-ms-transform":"translate3d("+j+"px, 0, 0)","-o-transform":"translate3d("+j+"px, 0, 0)","-moz-transform":"translate3d("+j+"px, 0, 0)","-webkit-transform":"translate3d("+j+"px, 0, 0)","transition-duration":h+"ms","-o-transition-duration":h+"ms","-webkit-transition-duration":h+"ms","-moz-transition-duration":h+"ms"}),j+=i[b].init,h+=d.transitionStep):"vertical"===d.style&&(a(this).css({"transition-duration":h+"ms","-moz-transition-duration":h+"ms","-o-transition-duration":h+"ms","-webkit-transition-duration":h+"ms"}),"down"===d.vertical.direction?a(this).css({transform:"translate3d(0, "+j+"px, 0)","-moz-transform":"translate3d(0, "+j+"px, 0)","-o-transform":"translate3d(0, "+j+"px, 0)","-webkit-transform":"translate3d(0, "+j+"px, 0)","-ms-transform":"translate3d(0, "+j+"px, 0)"}):"up"===d.vertical.direction&&a(this).css({transform:"translate3d(0,-"+j+"px, 0)","-moz-transform":"translate3d(0,-"+j+"px, 0)","-webkit-transform":"translate3d(0,-"+j+"px, 0)","-o-transform":"translate3d(0,-"+j+"px, 0)","-ms-transform":"translate3d(0,-"+j+"px, 0)"}),j+=i[b].init,h+=d.transitionStep):(c.els.item.css({transform:"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-o-transform":"translate3d(0, 0, 0)"}),j=i[b].init,h=d.transitionStep,e.trigger("close"))})},translate:function(){var b={glue:{init:d.size},spaced:{init:d.size*d.margin}};c.els.checkbox.on("change",function(){c._callbacks[d.style](b)})},createOn:function(i,h,l,k){h=document.createElementNS("http://www.w3.org/2000/svg",h);for(var j in l){l.hasOwnProperty(j)&&h.setAttribute(j,l[j])}k&&h.appendChild(document.createTextNode(k));return i.appendChild(h)},responsiveStyles:function(){var b=0<window.innerWidth?window.innerWidth:screen.width;320<=b&&480>=b?(d.size/=1.4,d.circle.radius/=1.2):480<b&&768>=b?d.size/=1.2:780<b&&1024>=b&&(d.circle.radius/=1.2,d.size/=1.1);c.els.item.css({width:d.size+"px",height:d.size+"px",color:d.contentColor,"background-color":d.bgColor,"line-height":d.size+"px"});c.els.button.css({width:d.size+"px",height:d.size+"px","background-color":d.bgColor,"line-height":d.size+"px"});e.find(".burger").css({"font-size":".8em",width:d.size/2+"px",height:"3px",left:d.size/4+"px"})}};c._callbacks={vertical:c.methods.linear,horizontal:c.methods.linear,circle:c.methods.circle};c.init=function(){var b=document.createElementNS("http://www.w3.org/2000/svg","svg"),h=a(".navimenu").index(e);b.setAttribute("id","gooeySVG"+h);b.setAttribute("class","gooeySVG");e.append(b);b=document.getElementById("gooeySVG"+h);c.methods.createOn(b,"defs",{id:"defs"+h});b=document.getElementById("defs"+h);c.methods.createOn(b,"filter",{id:"goo-shadow"+h,overflow:"hidden"});var i=document.getElementById("goo-shadow"+h);c.methods.createOn(i,"feGaussianBlur",{"in":"SourceGraphic",result:"blur",stdDeviation:"10"});c.methods.createOn(i,"feColorMatrix",{"in":"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",result:"goo"});c.methods.createOn(i,"feGaussianBlur",{"in":"goo",stdDeviation:"2",result:"shadow"});c.methods.createOn(i,"feColorMatrix",{"in":"shadow",mode:"matrix",values:"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 0 0",result:"shadow"});c.methods.createOn(i,"feOffset",{"in":"shadow",dx:"1",dy:"1",result:"shadow"});c.methods.createOn(i,"feComposite",{in2:"shadow","in":"goo",result:"goo"});c.methods.createOn(i,"feComposite",{in2:"goo","in":"SourceGraphic",result:"mix"});c.methods.createOn(b,"filter",{id:"goo"+h});b=document.getElementById("goo"+h);c.methods.createOn(b,"feGaussianBlur",{"in":"SourceGraphic",result:"blur",stdDeviation:"10"});c.methods.createOn(b,"feColorMatrix",{"in":"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"});c.methods.createOn(b,"feComposite",{in2:"goo","in":"SourceGraphic",result:"mix"});e.css({"-webkit-filter":"url('#goo-shadow"+h+"')",filter:"url('#goo-shadow"+h+"')","-ms-filter":"url('#goo-shadow"+h+"')","-o-filter":"url('#goo-shadow"+h+"')"});c.methods.setEvents();c.methods.setup();c.methods.translate.apply(this,arguments)};c.init()};a.gooeymenu.defaults={style:"horizontal",size:70,margin:"medium",bgColor:"steelblue",contentColor:"white",transitionStep:100,bounce:!1,bounceLength:"medium",hover:"white",circle:{radius:80},horizontal:{menuItemPosition:"glue"},vertical:{menuItemPosition:"spaced",direction:"up"},open:function(){},close:function(){}};a.fn.gooeymenu=function(b){void 0===b&&(b={});if(b&&"object"===typeof b){return this.each(function(){new a.gooeymenu(this,b)})}}})(jQuery);