$(function(){$("#area").on("click",".area",function(){var b=$(this).index();$($(".family-top-items")[b]).addClass("active").siblings("[class~='active']").removeClass("active").children().children(".family-top-coordinate").addClass("hide");$($(".family-top-items")[b]).children().children(".family-top-coordinate").removeClass("hide");var a=parseFloat($(".family-top-items").css("width"));$(".male-top")[0].scrollLeft=a*b});$(".family-top-box").on("click",".family-top-items",function(){var a=$(this).index();$(".family-items-content")[a].scrollIntoView()});$(".family-top-box").on("click",".family-top-items",function(){$(this).addClass("active").siblings("[class~='active']").removeClass("active").children().children(".family-top-coordinate").addClass("hide");$(this).children().children(".family-top-coordinate").removeClass("hide")})});var setarea=function(){var u=getComputedStyle($(".top-banner")[0]);var l=parseFloat(u.width);var i=parseFloat(u.height);var s=55/750*l,r=122/750*l,q=172/750*l,p=200/750*l,o=240/750*l,n=318/750*l,m=441/750*l,k=515/750*l,j=557/750*l,c=586/750*l,a=633/750*l,t=703/750*l;var h=168/655*i,g=281/655*i,f=302/655*i,e=413/655*i,d=433/655*i,b=545/655*i;$($(".area")[0]).attr("coords",s+","+h+","+q+","+g);$($(".area")[1]).attr("coords",p+","+h+","+n+","+g);$($(".area")[2]).attr("coords",m+","+h+","+j+","+g);$($(".area")[3]).attr("coords",c+","+h+","+t+","+g);$($(".area")[4]).attr("coords",r+","+f+","+o+","+e);$($(".area")[5]).attr("coords",k+","+f+","+a+","+e);$($(".area")[6]).attr("coords",s+","+d+","+q+","+b);$($(".area")[7]).attr("coords",p+","+d+","+n+","+b);$($(".area")[8]).attr("coords",m+","+d+","+j+","+b);$($(".area")[9]).attr("coords",c+","+d+","+t+","+b)};var setgoods=function(a){var v=a[0].itemstitle;var e=a[0].itemsareaid;var u=a[0].itemsdetail;var g=document.createDocumentFragment();var p=document.createDocumentFragment();var w=document.createDocumentFragment();for(var o=0;o<v.length;o++){var t=document.createElement("div");t.setAttribute("class",a[1]);var d=document.createElement("div");d.setAttribute("class",a[2]);d.innerHTML="<i class='"+a[3]+" hide'></i>"+v[o];t.appendChild(d);g.appendChild(t);var q=document.createElement("area");q.setAttribute("class","area");q.setAttribute("shape",a[4]);q.setAttribute("href","#"+e[o]);p.appendChild(q);var l=document.createElement("div");l.setAttribute("id",e[o]);l.setAttribute("class",a[5]);var h=document.createElement("div");h.setAttribute("class",a[6]);h.innerHTML="<img src='images/family-standing/family-standing-items-0"+(o+1)+".png'>";l.appendChild(h);var b=document.createElement("div");b.setAttribute("class",a[7]+" after");l.appendChild(b);var r=a[0].itemsdetail[o].goodslist;for(var n=0;n<r.length;n++){var s=document.createElement("div");s.setAttribute("class","items-goods");var c=document.createElement("a");var f=document.createElement("div");f.setAttribute("class","items-goods-img");var m=document.createElement("img");var k=document.createElement("div");k.setAttribute("class","items-info");c.setAttribute("href",r[n].url);m.setAttribute("class","lazy");m.setAttribute("data-original",r[n].pictureurl);$(m).lazyload();k.innerHTML="<div class='items-goods-name'>"+r[n].name+"</div>\n<div class='items-goods-price'>\n   <small>￥</small>"+r[n].price+"\n</div>\n<div class='"+a[8]+"'>点击查看</div>";f.appendChild(m);c.appendChild(f);c.appendChild(k);s.appendChild(c);b.appendChild(s)}w.appendChild(l)}$(a[9]).css("width",7*v.length+"rem");$(a[9]).append(g);$("#area").append(p);setarea();$(".container").append(w)};window.onload=function(){$.ajax({type:"GET",url:"data/family-test.json",dataType:"json",success:function(b){var a=[b,"family-top-items","male-top-content","family-top-coordinate","rect","family-items-content","adult-items-header1","female-items-box","family-items-btn",".family-top-box"];setgoods(a)}})};function gotoTop(a){$("#gotoTop").click(function(){$("html,body").animate({scrollTop:0},500)}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});a?a=a:a=500;$(window).scroll(function(){var b=$(window).scrollTop();if(b>a){$("#gotoTop").fadeIn(100)}else{$("#gotoTop").fadeOut(200)}})}gotoTop();