$(function(){$("#area").on("click",".area",function(){var b=$(this).index();$($(".family-top-items")[b]).addClass("active").siblings("[class~='active']").removeClass("active").children().children(".family-top-coordinate").addClass("hide");$($(".family-top-items")[b]).children().children(".family-top-coordinate").removeClass("hide");var a=parseFloat($(".family-top-items").css("width"));$(".male-top")[0].scrollLeft=a*b});$(".family-top-box").on("click",".family-top-items",function(){var a=$(this).index();$(".family-items-content")[a].scrollIntoView()});$(".family-top-box").on("click",".family-top-items",function(){$(this).addClass("active").siblings("[class~='active']").removeClass("active").children().children(".family-top-coordinate").addClass("hide");$(this).children().children(".family-top-coordinate").removeClass("hide")})});var setarea=function(){var o=getComputedStyle($(".top-banner")[0]);var q=parseFloat(o.width);var l=parseFloat(o.height);var k=55/750*q,i=122/750*q,g=172/750*q,u=200/750*q,t=240/750*q,s=318/750*q,r=441/750*q,p=515/750*q,n=557/750*q,c=586/750*q,a=633/750*q,m=703/750*q;var j=168/655*l,h=281/655*l,f=302/655*l,e=413/655*l,d=433/655*l,b=545/655*l;$($(".area")[0]).attr("coords",k+","+j+","+g+","+h);$($(".area")[1]).attr("coords",u+","+j+","+s+","+h);$($(".area")[2]).attr("coords",r+","+j+","+n+","+h);$($(".area")[3]).attr("coords",c+","+j+","+m+","+h);$($(".area")[4]).attr("coords",i+","+f+","+t+","+e);$($(".area")[5]).attr("coords",p+","+f+","+a+","+e);$($(".area")[6]).attr("coords",k+","+d+","+g+","+b);$($(".area")[7]).attr("coords",u+","+d+","+s+","+b);$($(".area")[8]).attr("coords",r+","+d+","+n+","+b);$($(".area")[9]).attr("coords",c+","+d+","+m+","+b)};var setgoods=function(a){var v=a[0].itemstitle;var e=a[0].itemsareaid;var m=a[0].itemsdetail;var h=document.createDocumentFragment();var s=document.createDocumentFragment();var w=document.createDocumentFragment();for(var r=0;r<v.length;r++){var k=document.createElement("div");k.setAttribute("class",a[1]);var d=document.createElement("div");d.setAttribute("class",a[2]);d.innerHTML="<i class='"+a[3]+" hide'></i>"+v[r];k.appendChild(d);h.appendChild(k);var t=document.createElement("area");t.setAttribute("class","area");t.setAttribute("shape",a[4]);t.setAttribute("href","#"+e[r]);s.appendChild(t);var o=document.createElement("div");o.setAttribute("id",e[r]);o.setAttribute("class",a[5]);var l=document.createElement("div");l.setAttribute("class",a[6]);l.innerHTML="<img src='images/family-standing/family-standing-items-0"+(r+1)+".png'>";o.appendChild(l);var b=document.createElement("div");b.setAttribute("class",a[7]+" after");o.appendChild(b);var u=a[0].itemsdetail[r].goodslist;for(var q=0;q<u.length;q++){var g=document.createElement("div");g.setAttribute("class","items-goods");var c=document.createElement("a");var f=document.createElement("div");f.setAttribute("class","items-goods-img");var p=document.createElement("img");var n=document.createElement("div");n.setAttribute("class","items-info");c.setAttribute("href",u[q].url);p.setAttribute("class","lazy");p.setAttribute("data-original",u[q].pictureurl);$(p).lazyload();n.innerHTML="<div class='items-goods-name'>"+u[q].name+"</div>\n<div class='items-goods-price'>\n   <small>￥</small>"+u[q].price+"\n</div>\n<div class='"+a[8]+"'>点击查看</div>";f.appendChild(p);c.appendChild(f);c.appendChild(n);g.appendChild(c);b.appendChild(g)}w.appendChild(o)}$(a[9]).css("width",7*v.length+"rem");$(a[9]).append(h);$("#area").append(s);setarea();$(".container").append(w)};window.onload=function(){$.ajax({type:"GET",url:"data/family-test.json",dataType:"json",success:function(b){var a=[b,"family-top-items","male-top-content","family-top-coordinate","rect","family-items-content","adult-items-header1","female-items-box","family-items-btn",".family-top-box"];setgoods(a)}})};function gotoTop(a){$("#gotoTop").click(function(){$("html,body").animate({scrollTop:0},500)}).hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")});a?a=a:a=500;$(window).scroll(function(){var b=$(window).scrollTop();if(b>a){$("#gotoTop").fadeIn(100)}else{$("#gotoTop").fadeOut(200)}})}gotoTop();